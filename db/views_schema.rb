# This is an automatically generated file by rake:db:views:dump_schema
ViewsSchema.create_view(
'cherrypicked_samples',
%Q{select `mlwh_sample`.`description` AS `root_sample_id`,`mlwh_stock_resource`.`labware_human_barcode` AS `plate_barcode`,`mlwh_sample`.`phenotype` AS `phenotype`,`mlwh_stock_resource`.`labware_coordinate` AS `coordinate`,`mlwh_sample`.`created` AS `created`,'Tecan' AS `robot_type` from (((((`sample` `mlwh_sample` join `stock_resource` `mlwh_stock_resource` on((`mlwh_sample`.`id_sample_tmp` = `mlwh_stock_resource`.`id_sample_tmp`))) join `event_warehouse_development`.`subjects` `mlwh_events_subjects` on((`mlwh_events_subjects`.`friendly_name` = `mlwh_sample`.`sanger_sample_id`))) join `event_warehouse_development`.`roles` `mlwh_events_roles` on((`mlwh_events_roles`.`subject_id` = `mlwh_events_subjects`.`id`))) join `event_warehouse_development`.`events` `mlwh_events_events` on((`mlwh_events_roles`.`event_id` = `mlwh_events_events`.`id`))) join `event_warehouse_development`.`event_types` `mlwh_events_event_types` on((`mlwh_events_events`.`event_type_id` = `mlwh_events_event_types`.`id`))) where (`mlwh_events_event_types`.`key` = 'cherrypick_layout_set') union select `mlwh_sample`.`description` AS `root_sample_id`,`mlwh_lh_sample`.`plate_barcode` AS `plate_barcode`,`mlwh_sample`.`phenotype` AS `phenotype`,`mlwh_lh_sample`.`coordinate` AS `coordinate`,`mlwh_sample`.`created` AS `created`,if((`mlwh_events_event_types`.`key` = 'lh_beckman_cp_destination_created'),'Beckman','Biosero') AS `robot_type` from (((((`sample` `mlwh_sample` join `lighthouse_sample` `mlwh_lh_sample` on((`mlwh_sample`.`uuid_sample_lims` = `mlwh_lh_sample`.`lh_sample_uuid`))) join `event_warehouse_development`.`subjects` `mlwh_events_subjects` on((`mlwh_events_subjects`.`uuid` = unhex(replace(`mlwh_lh_sample`.`lh_sample_uuid`,'-',''))))) join `event_warehouse_development`.`roles` `mlwh_events_roles` on((`mlwh_events_roles`.`subject_id` = `mlwh_events_subjects`.`id`))) join `event_warehouse_development`.`events` `mlwh_events_events` on((`mlwh_events_events`.`id` = `mlwh_events_roles`.`event_id`))) join `event_warehouse_development`.`event_types` `mlwh_events_event_types` on((`mlwh_events_event_types`.`id` = `mlwh_events_events`.`event_type_id`))) where (`mlwh_events_event_types`.`key` in ('lh_beckman_cp_destination_created','lh_biosero_cp_destination_plate_completed','lh_biosero_cp_destination_plate_partial_completed'))},
algorithm: 'UNDEFINED', security: 'DEFINER'
)
